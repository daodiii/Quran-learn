---
phase: 02-progress-primitive-components
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/primitives/Button.astro
  - src/components/primitives/Badge.astro
  - src/components/primitives/Card.astro
  - src/components/primitives/Container.astro
autonomous: true

must_haves:
  truths:
    - "Button renders with 4 variants (primary, secondary, outline, ghost)"
    - "Badge renders with semantic variants and level-specific colors"
    - "Card provides consistent container with hover states"
    - "Container controls max-width and centering"
    - "All primitives use design tokens exclusively"
    - "All primitives work correctly in RTL mode"
  artifacts:
    - path: "src/components/primitives/Button.astro"
      provides: "Button with variants, sizes, link mode"
      exports: ["Props interface"]
      min_lines: 80
    - path: "src/components/primitives/Badge.astro"
      provides: "Badge with semantic and level variants"
      exports: ["Props interface"]
      min_lines: 70
    - path: "src/components/primitives/Card.astro"
      provides: "Card container with variants and padding"
      exports: ["Props interface"]
      min_lines: 60
    - path: "src/components/primitives/Container.astro"
      provides: "Layout container with max-width options"
      exports: ["Props interface"]
      min_lines: 40
  key_links:
    - from: "All primitives"
      to: "src/styles/tokens/*.css"
      via: "CSS variable references"
      pattern: "var\\(--"
    - from: "Badge.astro"
      to: "Level color tokens"
      via: "Level-specific styling"
      pattern: "var\\(--color-level-"
    - from: "All primitives"
      to: "Logical CSS properties"
      via: "RTL support"
      pattern: "inline-|block-|inset-"
---

<objective>
Create four primitive UI components: Button, Badge, Card, and Container with full design token integration and RTL support.

Purpose: These primitives establish consistent UI patterns for the entire application. They will be composed into larger components in Phase 3 (cards) and used throughout page redesigns in Phase 6.

Output: Four Astro components in `/src/components/primitives/` with TypeScript props, design token integration, RTL-ready logical properties, and accessibility features.
</objective>

<execution_context>
@/Users/daodilyas/.claude/get-shit-done/workflows/execute-plan.md
@/Users/daodilyas/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-progress-primitive-components/02-RESEARCH.md

# Design tokens (from Phase 1)
@src/styles/global.css
@src/styles/tokens/colors.css
@src/styles/tokens/spacing.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Button component</name>
  <files>src/components/primitives/Button.astro</files>
  <action>
Create the primitives directory and Button.astro component:

**Props interface:**
```typescript
interface Props {
  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
  href?: string;              // Optional link mode (renders <a>)
  disabled?: boolean;
  type?: 'button' | 'submit' | 'reset';
  class?: string;             // Additional classes
}
```

**Implementation requirements:**
- Render as `<a>` when href provided, otherwise `<button>`
- Use dynamic Tag variable: `const Tag = href ? 'a' : 'button';`
- All spacing with logical properties: `padding-inline`, `padding-block`
- Include `:focus-visible` outline with `var(--color-border-focus)`
- Disabled state: opacity 0.5, cursor: not-allowed
- Use `aria-disabled` for links (href + disabled)

**Variant styles (all use design tokens):**
- primary: accent-primary bg, text-inverse color, accent-primary-hover on hover
- secondary: accent-secondary bg, text-inverse color
- outline: transparent bg, accent-primary border/text, accent-primary-light bg on hover
- ghost: transparent bg, text-primary color, background-secondary on hover

**Size styles:**
- sm: spacing-sm inline, spacing-xs block, font-size 0.875rem
- md: spacing-md inline, spacing-sm block, font-size 1rem
- lg: spacing-lg inline, spacing-md block, font-size 1.125rem

**Tokens to use:**
- Colors: var(--color-accent-*), var(--color-text-*), var(--color-background-*)
- Spacing: var(--spacing-xs), var(--spacing-sm), var(--spacing-md), var(--spacing-lg)
- Radius: var(--radius-md)
- Focus: var(--color-border-focus)

Include prefers-reduced-motion to disable transitions.

See research document Code Examples "Primitive Button Component" for exact implementation.
  </action>
  <verify>
- File exists at src/components/primitives/Button.astro
- Contains TypeScript Props interface with variant, size, href, disabled
- Uses dynamic Tag for button vs anchor rendering
- Uses CSS logical properties (padding-inline, padding-block)
- Has :focus-visible outline styles
- Has disabled/aria-disabled handling
- Uses only design token variables (no hardcoded colors/spacing)
- Has prefers-reduced-motion media query
  </verify>
  <done>
Button component renders as button or link with 4 variants, 3 sizes, proper focus states, disabled handling, and RTL-ready logical properties.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Badge component</name>
  <files>src/components/primitives/Badge.astro</files>
  <action>
Create Badge.astro component with semantic and level variants:

**Props interface:**
```typescript
interface Props {
  variant?: 'default' | 'success' | 'warning' | 'error' | 'info';
  level?: 1 | 2 | 3 | 4 | 5;  // For level-specific badges (overrides variant)
  size?: 'sm' | 'md';
}
```

**Implementation requirements:**
- If `level` prop is provided, use level-specific colors (ignores variant)
- Otherwise use semantic variant colors
- Use data attribute for level: `data-level={level}`
- All padding with logical properties

**Variant styles (semantic):**
- default: background-secondary bg, text-secondary color, border-primary border
- success: accent-primary-light bg, accent-primary text/border
- warning: accent-gold-light bg, accent-gold text/border
- error: accent-coral-light bg, accent-coral text/border
- info: accent-secondary-light bg, accent-secondary text/border

**Level styles (1-5):**
Use existing level tokens from global.css:
- Level 1: var(--color-level-1-bg), var(--color-level-1-text), var(--color-level-1-border)
- Level 2: var(--color-level-2-bg), var(--color-level-2-text), var(--color-level-2-border)
- Level 3: var(--color-level-3-bg), var(--color-level-3-text), var(--color-level-3-border)
- Level 4: var(--color-level-4-bg), var(--color-level-4-text), var(--color-level-4-border)
- Level 5: var(--color-level-5-bg), var(--color-level-5-text), var(--color-level-5-border)

**Size styles:**
- sm: spacing-xs inline, calc(spacing-xs * 0.5) block, font-size 0.75rem
- md: spacing-sm inline, spacing-xs block, font-size 0.875rem

**Base styles:**
- inline-flex, align-items center, gap spacing-xs
- font-weight 600, line-height 1, white-space nowrap
- border-radius: radius-md, border: 1px solid

See research document Code Examples "Primitive Badge Component" for exact implementation.
  </action>
  <verify>
- File exists at src/components/primitives/Badge.astro
- Contains TypeScript Props interface with variant, level, size
- Has styles for all 5 semantic variants
- Has styles for all 5 levels using level tokens
- Uses data-level attribute for level styling
- Uses CSS logical properties
- Uses only design token variables
  </verify>
  <done>
Badge component renders with 5 semantic variants or 5 level-specific colors, 2 sizes, using design tokens and logical properties.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create Card and Container components</name>
  <files>
    src/components/primitives/Card.astro
    src/components/primitives/Container.astro
  </files>
  <action>
Create Card.astro and Container.astro components:

**Card Props interface:**
```typescript
interface Props {
  variant?: 'default' | 'elevated' | 'outlined';
  padding?: 'none' | 'sm' | 'md' | 'lg';
  clickable?: boolean;
  href?: string;
  class?: string;
}
```

**Card implementation:**
- Render as `<a>` when href provided, otherwise `<div>`
- Variant styles:
  - default: 1px border-primary border
  - elevated: transparent border, shadow-soft
  - outlined: 2px border-primary border
- Padding variants using logical properties:
  - none: 0
  - sm: spacing-md inline, spacing-sm block
  - md: spacing-lg inline, spacing-md block
  - lg: spacing-xl inline, spacing-lg block
- Clickable state: cursor pointer, hover effects (border-secondary, shadow-medium, translateY(-2px))
- Include :focus-visible for keyboard navigation
- Include prefers-reduced-motion

**Container Props interface:**
```typescript
interface Props {
  maxWidth?: 'sm' | 'md' | 'lg' | 'xl' | '2xl' | 'full';
  padding?: boolean;
  center?: boolean;
  class?: string;
}
```

**Container implementation:**
- inline-size: 100%
- max-inline-size variants:
  - sm: 40rem (640px)
  - md: 48rem (768px)
  - lg: 64rem (1024px)
  - xl: 80rem (1280px)
  - 2xl: 96rem (1536px)
  - full: none
- padding: true adds padding-inline with responsive values
  - Base: spacing-md
  - @media (min-width: 640px): spacing-lg
  - @media (min-width: 1024px): spacing-xl
- center: true adds margin-inline: auto

See research document Code Examples for exact implementations.
  </action>
  <verify>
- Files exist at src/components/primitives/Card.astro and Container.astro
- Card has TypeScript Props interface with variant, padding, clickable, href
- Card uses dynamic Tag for div vs anchor
- Card has hover effects with prefers-reduced-motion fallback
- Card has :focus-visible for keyboard navigation
- Container has max-width variants with logical properties (max-inline-size)
- Container has responsive padding using media queries
- Both use only design token variables
  </verify>
  <done>
Card component provides consistent container with 3 variants, 4 padding options, and clickable/link modes. Container component controls max-width and responsive padding.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Verify all four component files exist:
```bash
ls -la src/components/primitives/
```

2. Verify CSS logical properties usage:
```bash
grep -l "inline-size\|block-size\|padding-inline\|margin-inline" src/components/primitives/*.astro
```

3. Verify design token usage:
```bash
grep -c "var(--" src/components/primitives/*.astro
```

4. Verify no hardcoded colors/spacing:
```bash
grep -E "#[0-9a-fA-F]{3,6}|[0-9]+px" src/components/primitives/*.astro | grep -v "min-width" | wc -l
# Should be 0 or minimal (only media queries use px)
```

5. Verify level badge tokens:
```bash
grep "color-level" src/components/primitives/Badge.astro
```

6. Verify focus-visible handling:
```bash
grep "focus-visible" src/components/primitives/*.astro
```
</verification>

<success_criteria>
- Four components exist in src/components/primitives/
- All components have TypeScript Props interfaces
- Button has 4 variants (primary, secondary, outline, ghost) and 3 sizes
- Badge has 5 semantic variants + 5 level variants
- Card has 3 variants, 4 padding options, clickable/link modes
- Container has 6 max-width options with responsive padding
- All CSS uses logical properties (inline-size, padding-inline, etc.)
- All colors/spacing reference design tokens
- Focus states handled with :focus-visible
- Hover animations respect prefers-reduced-motion
</success_criteria>

<output>
After completion, create `.planning/phases/02-progress-primitive-components/02-02-SUMMARY.md`
</output>
