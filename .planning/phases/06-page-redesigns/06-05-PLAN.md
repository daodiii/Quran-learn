---
phase: 06-page-redesigns
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - src/pages/resources/index.astro
autonomous: true

must_haves:
  truths:
    - "Resources page displays all 6 reference materials as ResourceCard"
    - "Each card has descriptive icon and clear title"
    - "Cards link to resource detail pages"
    - "Page has clear header explaining resource purpose"
    - "Grid layout is responsive (1-3 columns)"
  artifacts:
    - path: "src/pages/resources/index.astro"
      provides: "Visual cards for reference materials"
      contains: "ResourceCard"
  key_links:
    - from: "src/pages/resources/index.astro"
      to: "src/components/cards/ResourceCard.astro"
      via: "import"
      pattern: "import ResourceCard"
    - from: "src/pages/resources/index.astro"
      to: "src/components/cards/CardGrid.astro"
      via: "layout wrapper"
      pattern: "import CardGrid"
---

<objective>
Redesign the resources page with visual cards for all reference materials.

Purpose: Resources are quick-reference materials that support learning. Visual cards with icons make navigation intuitive and inviting.
Output: Redesigned resources/index.astro using ResourceCard, CardGrid, and design tokens
</objective>

<execution_context>
@/Users/daodilyas/.claude/get-shit-done/workflows/execute-plan.md
@/Users/daodilyas/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-page-redesigns/06-RESEARCH.md
@src/pages/resources/index.astro
@src/components/cards/ResourceCard.astro
@src/components/cards/CardGrid.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Redesign Resources Page Structure</name>
  <files>src/pages/resources/index.astro</files>
  <action>
Refactor resources/index.astro with clean structure and component imports:

1. Update imports:
   ```astro
   ---
   import BaseLayout from '../../layouts/BaseLayout.astro';
   import CardGrid from '../../components/cards/CardGrid.astro';
   import ResourceCard from '../../components/cards/ResourceCard.astro';
   import { getCollection } from 'astro:content';

   const allResources = await getCollection('resources');
   const sortedResources = allResources.sort((a, b) => (a.data.order || 0) - (b.data.order || 0));
   ---
   ```

2. Create page structure:
   ```astro
   <BaseLayout title="Resources">
     <div class="resources-page">
       <header class="page-header">
         <h1 class="page-title">Reference Resources</h1>
         <p class="page-subtitle">
           Quick-reference charts, tables, and guides for Quranic Arabic grammar.
           Use these alongside lessons for deeper understanding.
         </p>
       </header>

       <!-- Resource cards will go here -->

     </div>
   </BaseLayout>
   ```

3. Add page styling:
   ```css
   .resources-page {
     max-inline-size: 80rem;
     margin-inline: auto;
     padding: var(--spacing-xl) var(--spacing-md);
   }

   .page-header {
     margin-block-end: var(--spacing-xl);
     max-inline-size: 640px;
   }

   .page-title {
     font-size: clamp(1.75rem, 4vw, 2.25rem);
     font-weight: 700;
     color: var(--text-primary);
     margin-block-end: var(--spacing-sm);
   }

   .page-subtitle {
     font-size: 1rem;
     color: var(--text-secondary);
     line-height: 1.6;
   }
   ```
  </action>
  <verify>
Run `npm run build` - verify imports work.
Basic page structure should render correctly.
  </verify>
  <done>
Resources page has clean header structure.
Content collection properly imported and sorted.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add ResourceCard Grid with Icons</name>
  <files>src/pages/resources/index.astro</files>
  <action>
Add ResourceCard components with appropriate icons for each resource type:

1. Define icon SVGs for resource types:
   ```astro
   ---
   // Icon definitions for resource types
   const icons = {
     glossary: `<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/></svg>`,
     chart: `<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"/></svg>`,
     table: `<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M3 3v18h18V3H3zm8 16H5v-6h6v6zm0-8H5V5h6v6zm8 8h-6v-6h6v6zm0-8h-6V5h6v6z"/></svg>`,
     guide: `<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"/></svg>`,
     reference: `<svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></svg>`,
   };

   // Map resource slugs to icon types
   function getIconForResource(slug: string): string {
     if (slug.includes('glossary')) return icons.glossary;
     if (slug.includes('chart') || slug.includes('endings')) return icons.chart;
     if (slug.includes('table') || slug.includes('conjugation') || slug.includes('verb')) return icons.table;
     if (slug.includes('guide') || slug.includes('pronoun')) return icons.guide;
     return icons.reference;
   }
   ---
   ```

2. Render ResourceCard components:
   ```astro
   <CardGrid gap="md">
     {sortedResources.map(resource => (
       <ResourceCard
         title={resource.data.title}
         description={resource.data.description}
         href={`/resources/${resource.id}/`}
       >
         <Fragment slot="icon" set:html={getIconForResource(resource.id)} />
       </ResourceCard>
     ))}
   </CardGrid>
   ```

3. If the project has fewer than 6 resources, check what exists in src/content/resources/ and adjust the icon mapping accordingly. The key resources typically are:
   - Arabic Glossary
   - Case Endings Chart
   - Verb Conjugation Tables
   - Pronoun Charts
   - Grammar Quick Reference
   - I'rab Guide
  </action>
  <verify>
Run `npm run build` - verify all resource pages generate.
Run `npm run dev` and check /resources/ page shows cards with icons.
  </verify>
  <done>
All resources display as ResourceCard components.
Each card has appropriate icon based on resource type.
Cards link to resource detail pages.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add Categories and Responsive Polish</name>
  <files>src/pages/resources/index.astro</files>
  <action>
Optionally categorize resources and add final polish:

1. If resources have categories in frontmatter, group them:
   ```astro
   ---
   // Check if resources have category field
   const hasCategories = sortedResources.some(r => r.data.category);

   const categorizedResources = hasCategories ? {
     charts: sortedResources.filter(r => r.data.category === 'charts'),
     tables: sortedResources.filter(r => r.data.category === 'tables'),
     guides: sortedResources.filter(r => r.data.category === 'guides'),
     other: sortedResources.filter(r => !r.data.category),
   } : null;
   ---
   ```

2. If no categories, keep simple grid with all resources.

3. Add helpful intro text if few resources exist:
   ```astro
   {sortedResources.length < 3 && (
     <p class="resources-note">
       More reference materials coming soon. These foundational resources
       support your grammar learning journey.
     </p>
   )}
   ```

4. Add responsive styling:
   ```css
   @media (max-width: 640px) {
     .page-title {
       font-size: 1.5rem;
     }
   }

   .resources-note {
     font-size: 0.875rem;
     color: var(--text-tertiary);
     font-style: italic;
     margin-block-start: var(--spacing-md);
   }
   ```

5. Ensure dark mode works for icons:
   ```css
   :global(.resource-icon) {
     color: var(--accent-primary);
   }

   [data-theme="dark"] :global(.resource-icon) {
     color: var(--accent-secondary);
   }
   ```

6. Clean up any old styling not using design tokens.
  </action>
  <verify>
Run `npm run dev` and test:
1. All resources display with icons
2. Mobile layout (375px) is clean
3. Dark mode icons are visible
4. Clicking cards navigates to detail pages
  </verify>
  <done>
Resources page uses design tokens throughout.
Mobile layout adapts cleanly.
Dark mode works for all elements including icons.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build` completes without errors
2. Resources page shows all resources as visual cards
3. Each card has descriptive icon
4. Responsive grid works (1-3 columns)
5. Dark mode works throughout
6. Cards link to correct detail pages
</verification>

<success_criteria>
- RESOURCE-01 satisfied: Visual cards for reference materials
- All resources from content collection displayed
- Icons help identify resource types
- Design tokens used consistently
- Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-page-redesigns/06-05-SUMMARY.md`
</output>
