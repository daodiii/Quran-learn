---
phase: 06-page-redesigns
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/pages/index.astro
autonomous: true

must_haves:
  truths:
    - "Homepage displays inspiring hero section with clear value proposition"
    - "Homepage shows stats (73 lessons, 5 levels, 10+ surahs)"
    - "Homepage displays featured content cards using CourseCard components"
    - "Featured cards show progress indicators (0/N lessons completed)"
    - "Single primary CTA (Start Learning) is prominent"
    - "Hero section works in light and dark mode"
  artifacts:
    - path: "src/pages/index.astro"
      provides: "Redesigned homepage with hero and featured cards"
      contains: "CourseCard"
  key_links:
    - from: "src/pages/index.astro"
      to: "src/components/cards/CourseCard.astro"
      via: "import and render"
      pattern: "import CourseCard"
    - from: "src/pages/index.astro"
      to: "src/components/cards/CardGrid.astro"
      via: "layout wrapper"
      pattern: "import CardGrid"
---

<objective>
Redesign the homepage with an inspiring hero section and featured content cards using existing components.

Purpose: The homepage is the entry point - it must inspire learners and clearly communicate the value proposition while showing progress-enabled course cards.
Output: Redesigned index.astro using CourseCard, CardGrid, and design tokens
</objective>

<execution_context>
@/Users/daodilyas/.claude/get-shit-done/workflows/execute-plan.md
@/Users/daodilyas/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-page-redesigns/06-RESEARCH.md
@src/pages/index.astro
@src/components/cards/CourseCard.astro
@src/components/cards/CardGrid.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Redesign Hero Section</name>
  <files>src/pages/index.astro</files>
  <action>
Refactor the hero section in index.astro to use design tokens and cleaner structure:

1. Simplify hero content structure:
   - Badge with "Free Comprehensive Curriculum" (keep existing)
   - Main headline: "Understand the Quran Through Its Grammar"
   - Description: Keep existing concise text
   - Stats: 73 Lessons, 5 Levels, 10+ Surahs (use CSS grid for stats)
   - Primary CTA: "Start Learning" button using Button component
   - Secondary CTA: "View Curriculum" as text link

2. Update hero CSS to use design tokens:
   - Background: Keep gradient but use CSS custom properties
   - Spacing: Use var(--spacing-*) tokens
   - Typography: Use var(--font-*) where applicable
   - Ensure WCAG AAA contrast on hero text (white on teal gradient)

3. Dark mode support:
   - Hero gradient should work in both modes (gradient is self-contained)
   - Stats and CTAs should use token-based colors

4. Remove any redundant inline styles; rely on design tokens from Phase 1.

Keep the existing levels, featuredSurahs, and features data arrays - they're used later in the page.
  </action>
  <verify>
Run `npm run build` - should complete without errors.
Visually inspect hero section at localhost:4321 in both light and dark mode.
  </verify>
  <done>
Hero section uses design tokens for spacing/colors.
Single primary CTA is visually prominent.
Stats display cleanly in a row.
Dark mode maintains readability.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add Featured Course Cards with Progress</name>
  <files>src/pages/index.astro</files>
  <action>
Replace the existing levels section with CourseCard components in a CardGrid:

1. Import components at top of file:
   ```astro
   import CardGrid from '../components/cards/CardGrid.astro';
   import CourseCard from '../components/cards/CourseCard.astro';
   ```

2. Replace the levels section with:
   ```astro
   <section class="featured-levels">
     <div class="section-container">
       <h2 class="section-title">5 Progressive Levels</h2>
       <p class="section-subtitle">From alphabet to full Quranic analysis</p>

       <CardGrid gap="md">
         {levels.map(level => (
           <CourseCard
             title={level.title}
             level={level.num}
             lessonsCompleted={0}
             totalLessons={level.lessons}
             href={`/learn/#level-${level.num}`}
             data-level-card={level.num}
           >
             {level.desc}
           </CourseCard>
         ))}
       </CardGrid>
     </div>
   </section>
   ```

3. Add section styling using design tokens:
   - Section padding: var(--spacing-xl) 0
   - Container max-width: 80rem with margin: 0 auto
   - Section title: var(--text-primary), font-weight 700
   - Section subtitle: var(--text-secondary)

4. Add client-side script to populate progress from localStorage:
   ```html
   <script>
     // Populate course card progress from localStorage
     document.addEventListener('DOMContentLoaded', () => {
       const cards = document.querySelectorAll('[data-level-card]');
       cards.forEach(card => {
         const level = card.getAttribute('data-level-card');
         const key = `level-${level}-completed`;
         const completed = parseInt(localStorage.getItem(key) || '0', 10);
         const progressBar = card.querySelector('[role="progressbar"]');
         if (progressBar) {
           progressBar.setAttribute('aria-valuenow', String(completed));
         }
       });
     });
   </script>
   ```

Note: Progress tracking is localStorage-based for v1 per STATE.md decisions.
  </action>
  <verify>
Run `npm run build` - verify no import errors.
Check that 5 CourseCard components render in a responsive grid.
  </verify>
  <done>
Homepage displays 5 CourseCard components in CardGrid.
Cards show 0/N progress (will be client-side populated).
Cards link to /learn/#level-N anchors.
Responsive grid adjusts from 1-3 columns based on viewport.
  </done>
</task>

<task type="auto">
  <name>Task 3: Update Featured Surahs and Features Sections</name>
  <files>src/pages/index.astro</files>
  <action>
Update remaining sections to use new components and design tokens:

1. Import SurahCard component:
   ```astro
   import SurahCard from '../components/cards/SurahCard.astro';
   ```

2. Replace featuredSurahs section with SurahCard components:
   ```astro
   <section class="featured-surahs">
     <div class="section-container">
       <h2 class="section-title">Featured Surah Breakdowns</h2>
       <p class="section-subtitle">Word-by-word grammatical analysis</p>

       <CardGrid gap="md">
         {featuredSurahs.map(surah => (
           <SurahCard
             name={surah.name}
             nameArabic={surah.nameAr}
             number={surah.num}
             difficulty="beginner"
             verseCount={surah.verses}
             href={`/surahs/${surah.slug}/`}
           />
         ))}
       </CardGrid>
     </div>
   </section>
   ```

3. Update features section styling to use design tokens:
   - Keep the 4-feature grid layout
   - Update colors to use var(--text-primary), var(--text-secondary)
   - Update spacing to use var(--spacing-*) tokens
   - Arabic text should use font-family: var(--font-arabic)

4. Clean up old styles:
   - Remove any hardcoded color values (replace with tokens)
   - Remove any hardcoded spacing values (replace with tokens)
   - Consolidate duplicate CSS rules

5. Ensure consistent section structure:
   - Each section: .section-container with max-width: 80rem
   - Consistent padding: var(--spacing-xl) var(--spacing-md)
   - Section titles: consistent typography scale
  </action>
  <verify>
Run `npm run build` - verify successful build.
Run `npm run dev` and visually verify:
- Featured surahs display as SurahCard components
- Features section uses design tokens
- All sections have consistent spacing
  </verify>
  <done>
Homepage uses SurahCard for featured surahs.
All sections use design token variables.
No hardcoded color or spacing values remain.
Page maintains Coursera-like clean visual hierarchy.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build` completes without errors
2. Homepage hero section is clean with prominent CTA
3. 5 CourseCard components display in responsive grid
4. 6 SurahCard components display in responsive grid
5. Dark mode toggle works throughout the page
6. No TypeScript errors in index.astro
</verification>

<success_criteria>
- HOME-01 satisfied: Hero section with inspiring value proposition
- HOME-02 satisfied: Featured content cards with progress indicators
- All card components use Phase 3 card components
- Design tokens from Phase 1 used consistently
- Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-page-redesigns/06-01-SUMMARY.md`
</output>
