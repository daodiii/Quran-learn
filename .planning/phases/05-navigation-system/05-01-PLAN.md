---
phase: 05-navigation-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/navigation/Breadcrumbs.astro
  - src/components/Header.astro
  - src/components/Footer.astro
autonomous: true

must_haves:
  truths:
    - "Breadcrumbs show hierarchical location on non-homepage pages"
    - "RTL mode breadcrumbs use < separator instead of /"
    - "Header is cleaner with fewer visible elements"
    - "Footer is simplified to essential links only"
  artifacts:
    - path: "src/components/navigation/Breadcrumbs.astro"
      provides: "WAI-ARIA compliant breadcrumb navigation"
      min_lines: 60
      contains: "aria-label=\"Breadcrumbs\""
    - path: "src/components/Header.astro"
      provides: "Minimal header with logo, theme toggle, mobile menu"
      min_lines: 100
    - path: "src/components/Footer.astro"
      provides: "Simplified footer with brand and essential links"
      min_lines: 80
  key_links:
    - from: "src/components/navigation/Breadcrumbs.astro"
      to: "[dir=\"rtl\"]"
      via: "CSS selector for RTL separator flip"
      pattern: "\\[dir=\"rtl\"\\].*separator"
---

<objective>
Create Breadcrumbs component and simplify Header/Footer components

Purpose: Establish navigation primitives and reduce visual clutter in global components
Output: Breadcrumbs.astro with RTL support, minimal Header.astro, simplified Footer.astro
</objective>

<execution_context>
@/Users/daodilyas/.claude/get-shit-done/workflows/execute-plan.md
@/Users/daodilyas/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-navigation-system/05-RESEARCH.md

@src/components/Header.astro
@src/components/Footer.astro
@src/styles/tokens/colors.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Breadcrumbs component with RTL support</name>
  <files>src/components/navigation/Breadcrumbs.astro</files>
  <action>
Create WAI-ARIA compliant Breadcrumbs component following W3C pattern from RESEARCH.md.

Structure:
```astro
---
interface BreadcrumbItem {
  label: string;
  href?: string;
}

interface Props {
  items: BreadcrumbItem[];
}

const { items } = Astro.props;
---

<nav aria-label="Breadcrumbs" class="breadcrumbs">
  <ol>
    {items.map((item, index) => {
      const isLast = index === items.length - 1;
      // Render link or current span with aria-current="page"
    })}
  </ol>
</nav>
```

Styling requirements:
- Use CSS logical properties (inline-size, padding-inline, margin-block-end)
- Font size: 0.875rem, color: var(--text-tertiary)
- Links: var(--text-secondary), hover: var(--accent-primary)
- Current item: var(--text-primary), font-weight: 500
- RTL separator flip: [dir="rtl"] .separator::before { content: "<"; }
- LTR separator: .separator::before { content: "/"; }
- Mobile truncation: Hide middle items on screens < 768px, show only first and last

ARIA requirements:
- nav has aria-label="Breadcrumbs"
- Last item has aria-current="page"
- Separator spans have aria-hidden="true"
  </action>
  <verify>
- File exists at src/components/navigation/Breadcrumbs.astro
- Contains aria-label="Breadcrumbs"
- Contains [dir="rtl"] selector for separator flip
- Uses CSS logical properties
  </verify>
  <done>Breadcrumbs component renders hierarchical location with proper RTL support and WCAG compliance</done>
</task>

<task type="auto">
  <name>Task 2: Simplify Header component</name>
  <files>src/components/Header.astro</files>
  <action>
Simplify Header.astro to be cleaner and more minimal while preserving essential functionality.

Changes to make:
1. Remove desktop navigation links (Learn, Surahs, Resources, About) - these will be in the sidebar
2. Keep: Logo, AuthButton, theme toggle, mobile menu button
3. Add: NavigatorToggle button (placeholder for now, will be wired in Plan 03)
4. Remove the gold dot decoration from logo-icon (simpler look)
5. Reduce header height from 64px to 56px for more content space

Updated structure:
```astro
<header class="header">
  <div class="header-container">
    <!-- Logo (keep existing) -->
    <a href="/" class="logo-link">...</a>

    <!-- Right Section: Navigator Toggle + Auth + Theme + Mobile Menu -->
    <div class="header-actions">
      <button id="navigator-toggle" class="navigator-toggle" aria-label="Toggle course navigator" aria-expanded="false" hidden>
        <svg><!-- menu icon --></svg>
      </button>
      <AuthButton />
      <button id="theme-toggle" class="theme-toggle">...</button>
      <button id="mobile-menu-btn" class="mobile-menu-btn">...</button>
    </div>
  </div>
  <!-- Keep mobile menu but simplify to only essential links -->
</header>
```

Styling updates:
- .header-container height: 56px (was 64px)
- .navigator-toggle: Same styling as theme-toggle, hidden by default (shown via JS on lesson pages)
- Remove .desktop-nav entirely
- Update sticky top position references if needed
- Use CSS logical properties for padding (padding-inline instead of padding-left/right)
  </action>
  <verify>
- Header.astro updated
- No desktop-nav element in output
- Navigator toggle button exists with id="navigator-toggle"
- Header height is 56px
- CSS uses logical properties
  </verify>
  <done>Header is minimal with logo, toggle buttons, auth, and mobile menu only</done>
</task>

<task type="auto">
  <name>Task 3: Simplify Footer component</name>
  <files>src/components/Footer.astro</files>
  <action>
Simplify Footer.astro to reduce visual clutter and duplicate links.

Changes to make:
1. Remove "Levels" column entirely (duplicate of sidebar navigation)
2. Remove "Get Started" CTA column (redundant with homepage)
3. Keep: Brand column, essential links (Learn, About, Resources)
4. Add: Privacy link placeholder, Social links placeholder (commented out for future)

Updated structure:
```astro
<footer class="footer">
  <div class="footer-container">
    <div class="footer-grid">
      <!-- Brand Column -->
      <div class="footer-brand">
        <a href="/" class="brand-link">
          <!-- Logo SVG -->
          <span class="brand-name">Quranic Arabic</span>
        </a>
        <p class="brand-description">
          A comprehensive resource for learning Quranic Arabic grammar.
        </p>
      </div>

      <!-- Links Column -->
      <div class="footer-section">
        <h3 class="footer-heading">Navigation</h3>
        <ul class="footer-links">
          <li><a href="/learn/">Learn</a></li>
          <li><a href="/surahs/">Surahs</a></li>
          <li><a href="/resources/">Resources</a></li>
          <li><a href="/about/">About</a></li>
        </ul>
      </div>
    </div>

    <!-- Bottom Bar (simplified) -->
    <div class="footer-bottom">
      <p class="footer-copyright">&copy; {currentYear} Quranic Arabic</p>
    </div>
  </div>
</footer>
```

Styling updates:
- Grid: 2 columns on desktop (brand wider), 1 column on mobile
- Remove gradient background, use solid var(--bg-secondary)
- Remove level dots and CTA button styles
- Use CSS logical properties throughout
- Reduce vertical padding: 2rem top/bottom (was 3rem/4rem)
  </action>
  <verify>
- Footer.astro updated
- No level-dot classes
- No footer-cta-btn element
- Grid is simpler (2 columns max)
- Uses CSS logical properties
  </verify>
  <done>Footer is simplified with brand and essential links only</done>
</task>

</tasks>

<verification>
1. All three components exist and render without errors: `npm run build`
2. Breadcrumbs has proper ARIA attributes
3. Header height reduced, desktop nav removed
4. Footer simplified to 2-column layout
5. All CSS uses logical properties for RTL support
</verification>

<success_criteria>
- Breadcrumbs component is WAI-ARIA compliant with RTL separator flip
- Header is minimal (logo + toggles + auth only)
- Footer is simplified (2 columns, no CTA, no level links)
- All components use CSS logical properties
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-navigation-system/05-01-SUMMARY.md`
</output>
