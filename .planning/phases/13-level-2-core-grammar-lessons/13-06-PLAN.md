---
phase: 13-level-2-core-grammar-lessons
plan: 06
type: execute
wave: 4
depends_on: [13-04]
files_modified: [src/content/lessons/level-2/07-prepositions-genitive.mdx, src/content/lessons/level-2/08-possessive-idafah.mdx]
autonomous: true

must_haves:
  truths:
    - "Learner can list the common prepositions that govern genitive case"
    - "Learner understands the meanings of key prepositions (min, ila, fi, bi, etc.)"
    - "Learner can identify prepositional phrases in Quranic context"
    - "Learner understands the two-part possessive construction (possessed + possessor)"
    - "Learner recognizes that the second noun in idafah always takes genitive case"
    - "Learner can identify idafah chains in the Quran"
    - "All Arabic text is fully vocalized with complete tashkeel"
    - "Each lesson includes i'rab analysis with Function + Case marker + Reason format"
    - "Full transliteration provided for every Arabic word and verse"
  artifacts:
    - path: "src/content/lessons/level-2/07-prepositions-genitive.mdx"
      provides: "L2.07 Prepositions & Genitive lesson"
      min_lines: 250
      contains: "import ArabicExample"
    - path: "src/content/lessons/level-2/08-possessive-idafah.mdx"
      provides: "L2.08 The Possessive Construction lesson"
      min_lines: 250
      contains: "import ArabicExample"
  key_links:
    - from: "L2.07 lesson"
      to: "L2.06 Genitive Case lesson"
      via: "prerequisite cross-reference (genitive case knowledge required)"
      pattern: "\\[.*Genitive Case.*\\]"
    - from: "L2.08 lesson"
      to: "L2.06 Genitive Case lesson"
      via: "prerequisite cross-reference (genitive for possessor)"
      pattern: "\\[.*Genitive Case.*\\]"
    - from: "L2.07 lesson"
      to: "L2.08 Idafah lesson"
      via: "related cross-reference (both use genitive)"
      pattern: "\\[.*Possessive.*Idafah.*\\]"
    - from: "L2.08 lesson"
      to: "L2.07 Prepositions lesson"
      via: "related cross-reference (both use genitive)"
      pattern: "\\[.*Prepositions.*\\]"
---

<objective>
Create the 2 genitive application lessons: L2.07 Prepositions & Genitive (Huruf al-Jarr) and L2.08 The Possessive Construction (Idafah). Both depend on L2.06 (genitive case) and apply genitive case knowledge to specific constructions.

Purpose: L2.07 teaches the common prepositions that govern genitive — these are among the most frequent words in the Quran. L2.08 teaches the possessive/genitive construction (idafah), one of the most distinctive Arabic structures, appearing constantly in Quranic text (e.g., "rabbi l-ʿālamīna" = Lord of the worlds).

Output: 2 complete MDX lesson files with full transliteration, Quranic verse examples with i'rab analysis, and 3-4 practice exercises each.
</objective>

<execution_context>
@/Users/daodilyas/.claude/get-shit-done/workflows/execute-plan.md
@/Users/daodilyas/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-level-2-core-grammar-lessons/13-RESEARCH.md
@.planning/phases/13-level-2-core-grammar-lessons/13-04-SUMMARY.md
@docs/CURRICULUM_MAP.md
@docs/STYLE_GUIDE.md
@docs/TERMINOLOGY.md
@src/content/lessons/level-2/06-genitive-case.mdx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create L2.07 Prepositions & Genitive (Huruf al-Jarr) lesson</name>
  <files>src/content/lessons/level-2/07-prepositions-genitive.mdx</files>
  <action>
Create `src/content/lessons/level-2/07-prepositions-genitive.mdx` with complete lesson content.

**Frontmatter:**
```yaml
---
title: "Prepositions & Genitive (Huruf al-Jarr)"
level: 2
order: 7
description: "Learn the common Arabic prepositions that govern genitive case, their meanings, and how to identify prepositional phrases in the Quran."
draft: false
---
```

**Imports:** ArabicExample, GrammarTable, Callout, ExerciseBox

**Section 1 — Introduction:**
- Hook: ArabicExample from Surah Al-Ikhlas (CURRICULUM_MAP.md designated surah — note: CURRICULUM_MAP says "min sharri ma khalaq" which is from Al-Falaq, not Al-Ikhlas; use Al-Ikhlas verses that contain prepositions, or use the Al-Falaq reference if Al-Ikhlas lacks strong prepositional examples. Check the CURRICULUM_MAP.md Quranic Focus field carefully).
- Actually per CURRICULUM_MAP.md, L2.07 Quranic Focus is "Surah Al-Ikhlas" with note "min sharri ma khalaq". However, "مِن شَرِّ مَا خَلَقَ" is from Al-Falaq 113:2, not Al-Ikhlas. The CURRICULUM_MAP.md may have an error here. Use Al-Ikhlas verses where prepositions appear (e.g., "لَمْ يَلِدْ وَلَمْ يُولَدْ وَلَمْ يَكُن لَّهُۥ كُفُوًا أَحَدٌ" contains لَهُ with the preposition لِ). Supplement with Al-Falaq if needed for "مِنْ" examples.
- Opening: "In [L2.06](/learn/level-2/genitive-case), you learned that the genitive case appears after prepositions. Now let's learn WHICH prepositions exist, WHAT they mean, and HOW to spot prepositional phrases in the Quran."
- Learning Objectives (from CURRICULUM_MAP.md):
  1. Memorize the common prepositions that govern genitive case
  2. Understand the meanings of key prepositions (min, ila, fi, bi, etc.)
  3. Identify prepositional phrases in Quranic context
- Connection: "Every preposition in Arabic REQUIRES the following noun to be genitive. Learning prepositions means learning the most common trigger for genitive case."

**Section 2 — Understanding Prepositions:**
- Plain English first: "Prepositions are small words that show relationships between things — 'in the house', 'from the book', 'to the mosque'. Arabic prepositions work the same way, but they ALWAYS force the following noun into genitive case."
- English analogy: "English prepositions don't change the noun: 'in the house', 'from the house', 'to the house' — 'house' stays the same. Arabic prepositions change the noun's ending to kasra (genitive) every time."
- Introduce: [prepositions](/resources/glossary#huruf-al-jarr) (ḥurūf al-jarr / حُرُوفُ ٱلْجَرِّ) — literally "letters of pulling down" (they pull the case ending DOWN to genitive)

- **Common prepositions (GrammarTable):**
  1. **مِنْ** (min) — "from, of, some of"
  2. **إِلَىٰ** (ilā) — "to, toward"
  3. **فِى** (fī) — "in, within"
  4. **بِ** (bi-) — "with, by, in" (attached prefix)
  5. **لِ** (li-) — "for, to, belonging to" (attached prefix)
  6. **عَلَىٰ** (ʿalā) — "on, upon, over"
  7. **عَنْ** (ʿan) — "from, about, away from"
  8. **كَ** (ka-) — "like, as" (attached prefix)
- GrammarTable: preposition, transliteration, meaning(s), example phrase with genitive noun highlighted

- **Key patterns:**
  - بِسْمِ ٱللَّهِ (bismi llāhi) — with the name of Allah (بِ + اِسْمِ + ٱللَّهِ — two genitive triggers!)
  - One-letter prepositions (بِ, لِ, كَ) attach directly to the noun
  - Note which prepositions are standalone vs. attached

**Section 3 — Examples from the Quran:**
- 3-5 ArabicExample primarily from Surah Al-Ikhlas, supplemented if needed
- Each with i'rab analysis showing:
  - The preposition (ḥarf jarr) — not a noun, no case
  - The noun following — GENITIVE, with reason: "genitive because it follows the preposition [X]"
- Show different prepositions in action
- Show how prepositions combine with other sentence structures
- Word-by-word morphological breakdown for at least one verse
- All fully vocalized with transliteration

**Section 4 — The Rule:**
- Callout type="rule": "Arabic has about 20 prepositions (ḥurūf al-jarr). The most common are: مِنْ (from), إِلَىٰ (to), فِى (in), بِ (with), لِ (for), عَلَىٰ (on), عَنْ (from/about). EVERY preposition forces the following noun into genitive case (jarr). No exceptions at this level."
- Callout type="warning": Common mistakes:
  - "Don't forget that بِ, لِ, and كَ attach directly to the noun — they look like part of the word but they're separate prepositions"
  - "Don't confuse لِ (li- preposition, 'for') with لَ (la- emphasis particle). The kasra vs fatha matters."
  - "Some prepositions look like verbs — عَلَىٰ (ʿalā) is always a preposition, never a verb"

**Section 5 — Practice:**
- 3-4 ExerciseBox:
  1. Identification (beginner): "Find all prepositions and their genitive nouns in this verse"
  2. Meaning (beginner): "Translate these prepositional phrases — which preposition is used and what does it mean?"
  3. I'rab (intermediate): "Provide i'rab for the prepositional phrase — identify the preposition and explain why the noun is genitive"
  4. Full analysis (intermediate): "In this verse, identify all prepositions, their genitive nouns, and any non-prepositional nouns with their cases"

**Section 6 — Related Lessons:**
- Previous: [The Genitive Case](/learn/level-2/genitive-case)
- Companion: [The Possessive Construction](/learn/level-2/possessive-idafah) — "The other main genitive trigger"
- Reference: [The Definite Article](/learn/level-1/definite-article) — "How al- interacts with prepositional phrases"

**Critical requirements:** Full tashkeel, full transliteration, i'rab three-part format, bilingual terminology, one concept per lesson (PDGY-08: prepositions ONLY — idafah is L2.08).
  </action>
  <verify>
```bash
cd /Users/daodilyas/quran-learn
npm run validate:diacritics src/content/lessons/level-2/07-prepositions-genitive.mdx
npm run validate:terminology src/content/lessons/level-2/07-prepositions-genitive.mdx
npm run validate:verse-refs src/content/lessons/level-2/07-prepositions-genitive.mdx
```
  </verify>
  <done>L2.07 lesson file exists with 8+ common prepositions listed, genitive governance explained, Al-Ikhlas examples with i'rab analysis, preposition table, 3-4 exercises, cross-references to L2.06 and L2.08. Validation passes.</done>
</task>

<task type="auto">
  <name>Task 2: Create L2.08 The Possessive Construction (Idafah) lesson</name>
  <files>src/content/lessons/level-2/08-possessive-idafah.mdx</files>
  <action>
Create `src/content/lessons/level-2/08-possessive-idafah.mdx` with complete lesson content.

**Frontmatter:**
```yaml
---
title: "The Possessive Construction (Idafah)"
level: 2
order: 8
description: "Understand the two-part possessive construction, recognize that the second noun always takes genitive case, and identify idafah chains in the Quran."
draft: false
---
```

**Imports:** ArabicExample, GrammarTable, Callout, ExerciseBox

**Section 1 — Introduction:**
- Hook: ArabicExample from Surah An-Nas (CURRICULUM_MAP.md designated surah) — "رَبِّ ٱلنَّاسِ ، مَلِكِ ٱلنَّاسِ ، إِلَٰهِ ٱلنَّاسِ" (rabbi n-nāsi, maliki n-nāsi, ilāhi n-nāsi) "Lord of mankind, King of mankind, God of mankind" — three consecutive idafah constructions!
- Opening: "One of the most beautiful and frequent structures in the Quran is the idafah — a possessive construction where one noun 'belongs to' another. 'رَبِّ ٱلْعَٰلَمِينَ' (Lord of the worlds), 'بَيْتِ ٱللَّهِ' (House of Allah), 'يَوْمِ ٱلدِّينِ' (Day of Judgment) — all idafah."
- Learning Objectives (from CURRICULUM_MAP.md):
  1. Understand the two-part possessive construction (possessed + possessor)
  2. Recognize that the second noun always takes genitive case
  3. Identify idafah chains in the Quran
- Connection: "In [L2.06](/learn/level-2/genitive-case), you learned genitive appears in possessive constructions. Now let's learn the RULES of this construction in detail."

**Section 2 — Understanding Idafah:**
- Plain English first: "Idafah is Arabic's way of saying 'X of Y' — the book of the student, the door of the house, the mercy of Allah. It's two nouns placed next to each other: the possessed thing + the possessor."
- English analogy: "English uses 'of' or an apostrophe: 'the teacher's book' or 'the book of the teacher'. Arabic skips the 'of' entirely — just puts the two nouns next to each other and changes the second one's ending to genitive."
- Introduce: [possessive construction](/resources/glossary#idafah) (iḍāfah / إِضَافَة) — literally "annexation" or "addition"

- **Structure:**
  - First noun = muḍāf (مُضَاف) — the possessed thing — takes ANY case depending on its function in the sentence
  - Second noun = muḍāf ilayhi (مُضَافٌ إِلَيْهِ) — the possessor — ALWAYS genitive
  - Key rule: The first noun (muḍāf) NEVER takes tanween AND NEVER has al-

- **GrammarTable showing idafah structure:**
  - muḍāf (case depends on sentence role) + muḍāf ilayhi (always genitive)
  - Examples: كِتَابُ ٱلطَّالِبِ (the student's book), بَابُ ٱلْبَيْتِ (the door of the house)
  - Show the first noun WITHOUT tanween and WITHOUT al-

- **Definiteness:**
  - If the second noun is definite → the whole idafah is definite
  - If the second noun is indefinite → the whole idafah is indefinite
  - The first noun BORROWS definiteness from the second

- **Idafah chains (3+ nouns):**
  - Brief mention: "كِتَابُ مُعَلِّمِ ٱلْمَدْرَسَةِ" = "the book of the teacher of the school"
  - Each noun after the first takes genitive
  - Common in Quranic expressions

**Section 3 — Examples from the Quran:**
- 3-5 ArabicExample from Surah An-Nas
- Each with i'rab analysis showing:
  - muḍāf — its case depends on sentence function (may be nominative, accusative, or genitive itself)
  - muḍāf ilayhi — ALWAYS genitive with reason: "genitive because it is the second term in idafah"
- Show examples of:
  - Simple two-noun idafah
  - Three-noun idafah chain
  - Idafah where the first noun is itself in different cases
- Word-by-word morphological breakdown for at least one verse
- All fully vocalized with transliteration

**Section 4 — The Rule:**
- Callout type="rule": "Idafah (iḍāfah / إِضَافَة) = two nouns next to each other meaning 'X of Y'. Three rules: (1) The second noun (muḍāf ilayhi) ALWAYS takes genitive case. (2) The first noun (muḍāf) NEVER takes tanween and NEVER has al-. (3) The whole construction takes its definiteness from the second noun."
- Callout type="warning": Common mistakes:
  - "NEVER put al- on the first noun of idafah — 'ٱلْكِتَابُ ٱلطَّالِبِ' is WRONG. Correct: 'كِتَابُ ٱلطَّالِبِ'. The first noun becomes definite through the connection, not through al-."
  - "Don't confuse idafah with adjective-noun pairs — in idafah, the second noun is DIFFERENT from the first (book OF student). In adjective pairs, the second word DESCRIBES the first (the BIG book)."
  - "When you see two consecutive nouns without al- on the first, think 'idafah!' — this is the strongest signal."

**Section 5 — Practice:**
- 3-4 ExerciseBox:
  1. Identification (beginner): "Find all idafah constructions in these verses from An-Nas"
  2. Structure (beginner): "For each idafah, identify the muḍāf and muḍāf ilayhi. What case is the muḍāf ilayhi?"
  3. I'rab (intermediate): "Provide complete i'rab for this idafah construction — explain the case of each noun"
  4. Idafah vs Adjective (intermediate): "Is this pair an idafah or an adjective-noun combination? How can you tell?"

**Section 6 — Related Lessons:**
- Previous: [The Genitive Case](/learn/level-2/genitive-case), [Prepositions & Genitive](/learn/level-2/prepositions-genitive)
- Related: [Adjective Agreement](/learn/level-2/adjective-agreement) — "Compare idafah with adjective-noun pairs"
- Related: [The Definite Article](/learn/level-1/definite-article) — "al- rules in idafah context"
- Reference: [Glossary](/resources/glossary) — idafah entry

**Critical requirements:** Full tashkeel, full transliteration, i'rab three-part format, bilingual terminology, one concept per lesson (PDGY-08: idafah structure ONLY). EMPHASIZE the "no al- on first noun" rule — this is the most common idafah error.
  </action>
  <verify>
```bash
cd /Users/daodilyas/quran-learn
npm run validate:diacritics src/content/lessons/level-2/08-possessive-idafah.mdx
npm run validate:terminology src/content/lessons/level-2/08-possessive-idafah.mdx
npm run validate:verse-refs src/content/lessons/level-2/08-possessive-idafah.mdx
```
  </verify>
  <done>L2.08 lesson file exists with idafah structure (muḍāf + muḍāf ilayhi), "no al-/no tanween on first noun" rule, An-Nas examples with i'rab analysis, idafah vs adjective distinction, 3-4 exercises, cross-references to L2.06/L2.07. Validation passes.</done>
</task>

</tasks>

<verification>
Run full validation suite on both lessons:
```bash
cd /Users/daodilyas/quran-learn
npm run validate:diacritics src/content/lessons/level-2/07-prepositions-genitive.mdx src/content/lessons/level-2/08-possessive-idafah.mdx
npm run validate:terminology src/content/lessons/level-2/07-prepositions-genitive.mdx src/content/lessons/level-2/08-possessive-idafah.mdx
npm run validate:verse-refs src/content/lessons/level-2/07-prepositions-genitive.mdx src/content/lessons/level-2/08-possessive-idafah.mdx
```

Manual checks:
- Each lesson follows 5-part structure
- L2.07 lists 8+ common prepositions with meanings and examples
- L2.08 teaches idafah structure with muḍāf/muḍāf ilayhi terminology
- Both include i'rab analysis with three-part format
- L2.07 focuses on prepositional genitive; L2.08 focuses on possessive genitive
- Quranic examples from Al-Ikhlas (L2.07) and An-Nas (L2.08) per CURRICULUM_MAP.md
- L2.08 includes idafah vs adjective distinction
</verification>

<success_criteria>
1. 2 lesson files exist at expected paths
2. Each has correct frontmatter (title, level: 2, order, description, draft: false)
3. Every Arabic word has complete tashkeel (validation ratio ≥0.70)
4. Full transliteration on every ArabicExample and inline Arabic
5. L2.07 lists common prepositions with meanings; L2.08 explains idafah rules
6. Both include i'rab analysis with three-part format
7. L2.08 explicitly states "no al- on first noun" and "no tanween on first noun" rules
8. Each lesson has 3-4 ExerciseBox with progressive difficulty
9. All terminology uses bilingual first-mention format
10. Cross-references link both to L2.06 (genitive case foundation)
</success_criteria>

<output>
After completion, create `.planning/phases/13-level-2-core-grammar-lessons/13-06-SUMMARY.md` documenting:
- Lesson files created with word counts
- Quranic verses used per lesson
- Prepositions listed in L2.07
- Idafah rules codified in L2.08
- Validation results
- I'rab analysis instances
- Exercise count and types
- Any validation warnings
</output>
