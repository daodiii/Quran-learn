---
phase: 11-reference-resources
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [src/content/resources/case-endings-chart.mdx]
autonomous: true

must_haves:
  truths:
    - "Chart shows raf'/nasb/jarr patterns across singular/dual/plural nouns"
    - "Each case ending includes definite and indefinite forms"
    - "Five Nouns (al-asmāʾ al-khamsah) special patterns documented"
    - "Every pattern includes Quranic example demonstrating usage"
  artifacts:
    - path: "src/content/resources/case-endings-chart.mdx"
      provides: "Comprehensive case endings reference"
      min_lines: 400
      contains: "GrammarTable"
  key_links:
    - from: "Case ending patterns"
      to: "Quranic examples"
      via: "ArabicExample components"
      pattern: "<ArabicExample.*reference="
    - from: "Case patterns"
      to: "Curriculum lessons L2.04-L2.06"
      via: "cross-reference links"
      pattern: "/learn/level-2/(nominative|accusative|genitive)"
---

<objective>
Create comprehensive case endings chart showing raf'/nasb/jarr patterns across all noun types (singular, dual, plural, five nouns) with definite/indefinite forms and Quranic examples.

Purpose: Provide quick reference for iʿrāb (grammatical analysis) that learners can consult when analyzing verse grammar or identifying case markers in Quranic text.

Output: Complete case-endings-chart.mdx file with responsive tables and progressive disclosure structure.
</objective>

<execution_context>
@/Users/daodilyas/.claude/get-shit-done/workflows/execute-plan.md
@/Users/daodilyas/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-reference-resources/11-RESEARCH.md
@docs/TERMINOLOGY.md
@docs/STYLE_GUIDE.md
@docs/CURRICULUM_MAP.md
@src/content/resources/case-endings-chart.mdx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create case endings chart with raf'/nasb/jarr patterns</name>
  <files>src/content/resources/case-endings-chart.mdx</files>
  <action>
Replace case-endings-chart.mdx placeholder content with comprehensive case endings reference following these specifications:

**Structure:**
1. Keep existing frontmatter (title, order: 2, description)
2. Add MDX component imports (GrammarTable, ArabicExample, Callout)
3. Create introduction with overview of three cases
4. Organize by noun type with progressive disclosure:
   - Overview section
   - Singular Nouns (المُفْرَد)
   - Dual Nouns (المُثَنَّى)
   - Plural Nouns (الجَمْع) - separate sound masculine, sound feminine, broken
   - Five Nouns (الأَسْمَاء الخَمْسَة)
   - Quick navigation links at top

**Case System Overview:**
Introduce three cases before diving into patterns:
1. **Nominative (رَفْع / rafʿ):** Subjects of sentences
2. **Accusative (نَصْب / naṣb):** Direct objects and other functions
3. **Genitive (جَرّ / jarr):** After prepositions and in possessive constructions

**Pattern Organization (per RESEARCH.md template):**

For each noun type section:
1. **Introduction paragraph:** Explain what this noun type is (Plain English first)
2. **GrammarTable:** Show case endings with definite/indefinite forms
3. **Pattern notes:** Explain special rules (tanween, alif variations, etc.)
4. **Quranic Example:** Use ArabicExample component with multiple words highlighted showing different cases
5. **Learn more links:** Cross-reference to L2.04-L2.06 lessons

**Example Section Structure (from RESEARCH.md):**

```markdown
## Singular Nouns (المُفْرَد)

Singular nouns that are fully declinable (triptote):

<GrammarTable
  caption="Singular Noun Case Endings"
  headers={["Case", "Marker", "Indefinite", "Definite", "Example (book)"]}
  rows={[
    ["Nominative (رَفْع)", "ـُ / ـٌ", "كِتَابٌ", "الكِتَابُ", "kitābun / al-kitābu"],
    ["Accusative (نَصْب)", "ـَ / ـً", "كِتَابًا", "الكِتَابَ", "kitāban / al-kitāba"],
    ["Genitive (جَرّ)", "ـِ / ـٍ", "كِتَابٍ", "الكِتَابِ", "kitābin / al-kitābi"]
  ]}
/>

**Notes:**
- Indefinite nouns add tanween (double vowel): ـٌ، ـً، ـٍ
- Definite nouns use single vowel: ـُ، ـَ، ـِ
- Fathatain (ـً) uses alif: كِتَابًا

### Quranic Example

<ArabicExample
  arabic="الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ"
  transliteration="al-ḥamdu li-llāhi rabbi l-ʿālamīna"
  translation="All praise is for Allah, Lord of all worlds"
  reference="Al-Fatiha 1:2"
  highlight="الْحَمْدُ,رَبِّ"
/>

- الْحَمْدُ (al-ḥamdu) - Nominative (subject of nominal sentence)
- رَبِّ (rabbi) - Genitive (in idafah construction)

**Learn more:**
- [L2.04: Nominative Case](/learn/level-2/nominative-case)
- [L2.05: Accusative Case](/learn/level-2/accusative-case)
- [L2.06: Genitive Case](/learn/level-2/genitive-case)
```

**Content Sections to Create:**

1. **Overview** - Brief explanation of three cases and their functions

2. **Singular Nouns** - Triptote pattern with tanween
   - Include note about diptote (partially declinable) nouns

3. **Dual Nouns** - Two case forms (nom vs. acc/gen)
   - Explain alif/ya alternation
   - Show how nun drops in idafah

4. **Sound Masculine Plural** - ون/ين pattern
   - Show examples with مُؤْمِنُونَ / مُؤْمِنِينَ

5. **Sound Feminine Plural** - ات pattern
   - Show how all three cases use different vowels on final ta

6. **Broken Plurals** - Follow singular pattern
   - Brief note that they decline like singulars

7. **Five Nouns (الأَسْمَاء الخَمْسَة)** - Special patterns with long vowels
   - أَب، أَخ، حَم، فَم، ذُو
   - Nominative: و (أَبُو)
   - Accusative: ا (أَبَا)
   - Genitive: ي (أَبِي)

**Critical Requirements:**
- ALL Arabic text must have full tashkeel
- Use GrammarTable component for all case ending tables
- Include at least one Quranic example per major section
- Use progressive disclosure: basic patterns visible, detailed notes in <details> sections
- Verse references format: [Surah Name Chapter:Verse]
- Cross-reference to lessons L2.04, L2.05, L2.06, L2.08 (idafah), L2.12 (declinable/indeclinable)

**Progressive Disclosure Pattern:**
Main tables show the most common patterns. Use `<details>` sections for:
- Diptote (partially declinable) noun patterns
- Irregular noun patterns
- Extended examples with multiple case variations
- Common mistake alerts

Example:
```markdown
<details>
  <summary>Diptote Nouns (Partially Declinable)</summary>

  Some nouns don't take tanween and use fatha for both accusative and genitive:
  - Proper nouns on foreign pattern (إِبْرَاهِيم)
  - Adjectives of color/defect (أَحْمَر، أَعْمَى)
  - Broken plurals on specific patterns (مَسَاجِد)

  [Table showing diptote pattern]
</details>
```

**Tables to include:**
1. Singular triptote case endings
2. Singular diptote case endings (in collapsible section)
3. Dual case endings
4. Sound masculine plural case endings
5. Sound feminine plural case endings
6. Five Nouns case endings
7. Summary comparison table (optional, at end)

**Quranic Example Selection:**
- Use Al-Fatiha 1:2 for singular nominative/genitive demonstration
- Use examples from CURRICULUM_MAP.md where L2.04-L2.06 are taught
- Ensure examples show REAL case markers, not theoretical ones
  </action>
  <verify>
Run validation scripts:
```bash
cd /Users/daodilyas/quran-learn
npm run validate:diacritics src/content/resources/case-endings-chart.mdx
npm run validate:terminology src/content/resources/case-endings-chart.mdx
npm run validate:verse-refs src/content/resources/case-endings-chart.mdx
```

Manual verification:
- Confirm GrammarTable components render correctly (check headers/rows structure)
- Verify all three cases (raf'/nasb/jarr) are covered
- Check that Five Nouns section exists with special patterns
- Spot-check 3 Quranic examples for full vocalization
- Verify progressive disclosure sections use <details> tags
  </verify>
  <done>
Case endings chart shows raf'/nasb/jarr patterns across singular/dual/plural with definite/indefinite forms, Five Nouns special patterns, and Quranic examples. All tables use GrammarTable component. Validation scripts pass.
  </done>
</task>

</tasks>

<verification>
Run validation suite:
```bash
npm run validate:diacritics src/content/resources/case-endings-chart.mdx
npm run validate:terminology src/content/resources/case-endings-chart.mdx
npm run validate:verse-refs src/content/resources/case-endings-chart.mdx
```

Manual checks:
- All three cases documented (nominative, accusative, genitive)
- All noun types covered (singular, dual, sound masc/fem plural, five nouns)
- Each section includes at least one Quranic example
- GrammarTable components have valid headers and rows
- Cross-references link to L2.04-L2.06 lessons
</verification>

<success_criteria>
**Measurable outcomes:**
1. File contains 5+ GrammarTable components showing case patterns
2. All three cases (raf'/nasb/jarr) documented for each noun type
3. Five Nouns section exists with special و/ا/ي patterns
4. At least 4 Quranic examples demonstrate case usage in context
5. Validation scripts report zero errors
6. File size >20KB (indicates comprehensive content)
</success_criteria>

<output>
After completion, create `.planning/phases/11-reference-resources/11-02-SUMMARY.md` documenting:
- Number of tables created (by noun type)
- Quranic examples used (verse references and which cases demonstrated)
- Validation results
- Any non-standard case patterns included (diptotes, irregular nouns)
- Cross-reference links to curriculum lessons
</output>
